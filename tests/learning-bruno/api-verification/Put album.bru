meta {
  name: Put album
  type: http
  seq: 5
}

put {
  url: https://jsonplaceholder.typicode.com/albums/5
  body: json
  auth: inherit
}

body:json {
  {
    "userId": 111,
    "title": "updated title",
    "userId": 123
  }
}

tests {
  test("Status code is 200", function () {
    expect(res.getStatus()).to.equal(200);
  });
  
  test("Check if the ID of the body already exists.", function() {
    expect(res.getBody().id).to.exists
  });
  
  test("Check content type is json", function() {
    expect(res.getHeaders()['content-type']).to.contains('application/json');
  });
  
  test(`Check response time is under 5 seconds: ${res.responseTime/1000}s`,    
      function() {
        expect(res.responseTime).to.be.below(5000);
  });
}

settings {
  encodeUrl: true
  timeout: 0
}
